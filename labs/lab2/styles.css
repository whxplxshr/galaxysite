
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Карточка 200×200 */
.card {
  width: 200px;
  height: 200px;
  display: flex;              
  border-radius: 12px;
  overflow: hidden;
  background: #e6f4ff;         
  box-shadow: 0 6px 20px rgba(0,0,0,.12);
}

/* СЦЕНА И СЛОИ  */
.scene { position: relative; width: 100%; height: 100%; }
.layer { position: absolute; user-select: none; }
.bg {
  inset: 0; width: 100%; height: 100%;
  object-fit: cover;
}

/* Ёлка */
.tree {
  width: 58%;
  left: 25%;
  bottom: 0;
  transform: translateX(-50%);
  transform-origin: 50% 100%;  /* шарнир в основании */
}

/* Облака (2 файла) */
.cloud { 
  opacity: 0;                  /* появятся на hover сцены */
  pointer-events: none;        /* чтобы не мешали ховеру по ёлке */
  filter: drop-shadow(0 2px 1px rgba(0,0,0,.06));
}
.cloud--1 {
  top: 16px;
  left: -40%;                  /* старт немного слева за кадром */
  width: 48%;
}
.cloud--2 {
  top: 44px;
  left: -60%;
  width: 58%;
  transform: scale(.95) rotate(-2deg);
}

/*Лисы: два РАЗНЫХ файла (fox-near.png и fox-far.png) */
/* обе стартуют из одной точки; ближняя сверху по слоям */
.fox { width: 28%; pointer-events: none; right: 10px; bottom: 8px; }
.fox--near { opacity: 1; z-index: 3; }
.fox--far  { opacity: 0; z-index: 4; } /* по умолчанию скрыта и поверх near */

/* Подпись */
.label {
  position: absolute; left: 10px; top: 10px;
  pointer-events: none;
}
.label::after {
  content: "";
  display: inline-block;
  padding: 6px 10px;
  border-radius: 8px;
  background: rgba(255,255,255,.84);
  box-shadow: 0 2px 6px rgba(0,0,0,.12);
  font-weight: 600;
  font-size: 13px;
  line-height: 1;
  opacity: 0;
  transform: rotate(-8deg);
  transition: opacity .25s ease;
}


.scene:hover .label::after { content: "Пора отдыхать"; opacity: 1; }

.scene:hover .cloud--1 {
  opacity: 1;
  animation: float1 18s linear infinite;
}
.scene:hover .cloud--2 {
  opacity: 1;
  animation: float2 24s linear infinite;
}

.tree:hover {
  animation: sway 2.4s ease-in-out infinite;
}
/
.scene:active .label::after { content: "Отправляйся!"; }
.scene:active .fox--near { opacity: 0; }
.scene:active .fox--far  {
  opacity: 1;
  animation: runAway 2.2s ease-in forwards;
}

.card:active { animation: shakeX 1.1s ease-in-out infinite; }


@keyframes float1 {
  0%   { transform: translateX(0) translateY(0); }
  50%  { transform: translateX(90%) translateY(-3px); }
  100% { transform: translateX(180%) translateY(0); }
}
@keyframes float2 {
  0%   { transform: translateX(0) translateY(0) rotate(-2deg) scale(.95); }
  50%  { transform: translateX(80%) translateY(3px) rotate(-2deg) scale(.95); }
  100% { transform: translateX(170%) translateY(0) rotate(-2deg) scale(.95); }
}


@keyframes sway {
  0%,100% { transform: translateX(-50%) rotate(0deg); }
  25%     { transform: translateX(-50%) rotate(-3deg); }
  75%     { transform: translateX(-50%) rotate(3deg); }
}

@keyframes runAway {
  0%   { transform: translate(0,0) scale(1);   opacity: 1; }
  70%  { transform: translate(-70px,-50px) scale(.7); opacity: .9; }
  100% { transform: translate(-110px,-50px) scale(.5); opacity: 0; }
}

@keyframes shakeX {
  0%,100% { transform: translateX(0); }
  25%     { transform: translateX(-1.5px); }
  75%     { transform: translateX(1.5px); }
}
